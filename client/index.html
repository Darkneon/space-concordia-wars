<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Space Concordia Wars</title>

    <!-- Sets initial viewport load and disables zooming  -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

    <!-- Makes your prototype chrome-less once bookmarked to your phone's home screen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    
    <link href="lib/ratchet/css/ratchet.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">

    <script type="text/javascript" src="/socket.io/socket.io.js"></script>

    <!-- Include the compiled Ratchet JS -->
    <script src="lib/ratchet/js/ratchet.js"></script>      
    <script src="lib/dom.js"></script>     
    <script src="lib/phaser.js"></script>
    <script src="lib/markup.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="components/join-game.js"></script>    
    <script src="components/new-room.js"></script>
    <script src="components/players-room/players-room.js"></script>
    <script src="games/iridescence/iridescence.js"></script>    
    <script src="games/mehdi-sez/mehdi-sez.js"></script>    
    <script>
         
        $(document).ready(function() {
            var socket = io.connect('/');
            
            var joinGameComponent = new JoinGame({ button: '#join-game', modalContent: '#modal'});              
            var newRoomrComponent = new NewRoom({ button: '#newRoom'});
            var playersRoomComponent = new PlayersRoom({
                socket: socket, 
                path: '/components/players-room',
                currentPlayer: {
                    name: 'Me',
                    team: 'red'
                },
                elements: {
                    content: '#players-room'
                }
            });                                    
            
            $('#game1').on('click', function() {
                $('body').html('<div id="theGame"></div>');
                var iridescence = new Iridescence({ path: '/games/iridescence'});
            });
            
            $('#game2').on('click', function() {
                $('body').html('<div id="theGame"></div>');
                var m = new MehdiSez({ path: '/games/mehdi-sez'});
            });      
            
        });
    </script>
  </head>
  <body>

    <!-- Make sure all your bars are the first things in your <body> -->
    
    <header class="bar bar-nav">
      <h1 class="title">Space Concordia Wars</h1>
    </header>
    
    <div id="modal" class="modal">
        <header class="bar bar-nav">       
            <a class="icon icon-close pull-right" href="#modal"></a>
            <h1 class="title"></h1>
        </header>
        
        <div class="content">            
        </div>
    </div>      
      
    <div class="content">            
        <input type="text" placeholder="Nickname">                 
        <button id='newRoom' class="btn btn-primary btn-block">New Room</button>                
        <a href="#modal" id='join-game' class="btn btn-positive btn-block">Join Room</a>
        <a id='game1' class="btn btn-positive btn-block">Test Game #1</a>
        <a id='game2' class="btn btn-positive btn-block">Test Game #2</a>
        
        <div id='players-room' class="card"></div>            
    </div>

  </body>
</html>